CC		=	cl
CXX		=   cl
LD		= 	link
LIBR	=	lib
WINDRES =	rc


CXXFLAGS =  -nologo -O2 -MT -DNDEBUG -DHAVE_OPENGL \
			-Iinclude \

CFLAGS	=	-nologo -O2 -MT -DNDEBUG -DHAVE_OPENGL \
			 -Iinclude \

LFLAGS	=	-nologo -subsystem:windows,"5.01"

TESTGL	=	testgl.exe
TESTSPRITE =	testsprite.exe

LIBS = kernel32.lib user32.lib gdi32.lib winmm.lib dxguid.lib opengl32.lib

.SUFFIXES: .c.o
.SUFFIXES: .cpp.o

all: $(TESTGL) $(TESTSPRITE)

$(TESTGL):	testgl.obj
	$(LD) $(LFLAGS) -OUT:$@ testgl.obj $(LIBS) sdl.lib sdlmain.lib

$(TESTSPRITE):	testsprite.obj
	$(LD) $(LFLAGS) -OUT:$@ testsprite.obj $(LIBS) sdl.lib sdlmain.lib

.c.obj:
	$(CC) $(CFLAGS) -c -Fo$@ $<

.cpp.obj:
	$(CXX) $(CXXFLAGS) -c -Fo$@ $<

.rc.res: 
	$(WINDRES) -fo $@ $< 
	
clean:
	del $(TESTGL) $(TESTSPRITE) testsprite.exp testsprite.lib testgl.exp testgl.lib testgl.obj testsprite.obj 
